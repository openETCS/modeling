<?xml version="1.0" encoding="UTF-8"?>
<File xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2">
	<declarations>
		<Package name="TM_conversions_TrainToTrack">
			<declarations>
				<Operator kind="function" name="C_legacy_P000">
					<inputs>
						<Variable name="legacy_in">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Packet_TrainTypes_Pkg::PT0_PositionReport_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/12d695/10A5/D28/561e55e75a70"/>
							</pragmas>
						</Variable>
					</inputs>
					<outputs>
						<Variable name="p">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TM_TrainToTrack::P000"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/12d696/10A5/D28/561e55ee69bc"/>
							</pragmas>
						</Variable>
					</outputs>
					<locals>
						<Variable name="_L1">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Packet_TrainTypes_Pkg::PT0_PositionReport_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/12d698/10A5/D28/561e55f4545a"/>
							</pragmas>
						</Variable>
						<Variable name="_L3">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainToTrack::Position_Report"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db01/6095/17E4/561e618b58a0"/>
							</pragmas>
						</Variable>
						<Variable name="_L2">
							<type>
								<NamedType>
									<type>
										<TypeRef name="bool"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db00/6095/17E4/561e618b5e8b"/>
							</pragmas>
						</Variable>
						<Variable name="_L6">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TM_TrainToTrack::P000"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db05/6095/17E4/561e61a41b9b"/>
							</pragmas>
						</Variable>
						<Variable name="_L38">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db17/6095/17E4/561e61bd1abe"/>
							</pragmas>
						</Variable>
						<Variable name="_L37">
							<type>
								<NamedType>
									<type>
										<TypeRef name="M_LEVEL"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db16/6095/17E4/561e61bd5ee6"/>
							</pragmas>
						</Variable>
						<Variable name="_L36">
							<type>
								<NamedType>
									<type>
										<TypeRef name="M_MODE"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db15/6095/17E4/561e61bd7a14"/>
							</pragmas>
						</Variable>
						<Variable name="_L35">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DIRTRAIN"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db14/6095/17E4/561e61bd4ca5"/>
							</pragmas>
						</Variable>
						<Variable name="_L34">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db13/6095/17E4/561e61bd4633"/>
							</pragmas>
						</Variable>
						<Variable name="_L33">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db12/6095/17E4/561e61bd2dbf"/>
							</pragmas>
						</Variable>
						<Variable name="_L32">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_LENGTH"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db11/6095/17E4/561e61bd2b37"/>
							</pragmas>
						</Variable>
						<Variable name="_L31">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db10/6095/17E4/561e61bd41fc"/>
							</pragmas>
						</Variable>
						<Variable name="_L30">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db0f/6095/17E4/561e61bd2a98"/>
							</pragmas>
						</Variable>
						<Variable name="_L29">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DLRBG"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db0e/6095/17E4/561e61bd594e"/>
							</pragmas>
						</Variable>
						<Variable name="_L28">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DIRLRBG"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db0d/6095/17E4/561e61bd7fc5"/>
							</pragmas>
						</Variable>
						<Variable name="_L27">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db0c/6095/17E4/561e61bd1415"/>
							</pragmas>
						</Variable>
						<Variable name="_L26">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db0b/6095/17E4/561e61bd68d"/>
							</pragmas>
						</Variable>
						<Variable name="_L25">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_SCALE"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db0a/6095/17E4/561e61bd342f"/>
							</pragmas>
						</Variable>
						<Variable name="_L24">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db09/6095/17E4/561e61bd5d46"/>
							</pragmas>
						</Variable>
						<Variable name="_L23">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db08/6095/17E4/561e61bd3611"/>
							</pragmas>
						</Variable>
					</locals>
					<data>
						<!-- _L1 = legacy_in; -->
						<Equation>
							<lefts>
								<VariableRef name="_L1"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="legacy_in"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/12d697/10A5/D28/561e55f4e75"/>
							</pragmas>
						</Equation>
						<!-- p = _L6; -->
						<Equation>
							<lefts>
								<VariableRef name="p"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L6"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/12d69d/10A5/D28/561e55f65ce3"/>
							</pragmas>
						</Equation>
						<!-- _L2, _L3 = (flatten Packet_TrainTypes_Pkg::PT0_PositionReport_T)(_L1); -->
						<Equation>
							<lefts>
								<VariableRef name="_L2"/>
								<VariableRef name="_L3"/>
							</lefts>
							<right>
								<!-- (flatten Packet_TrainTypes_Pkg::PT0_PositionReport_T)(_L1) -->
								<CallExpression>
									<operator>
										<FlattenOp>
											<type>
												<TypeRef name="Packet_TrainTypes_Pkg::PT0_PositionReport_T"/>
											</type>
										</FlattenOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L1"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25daff/6095/17E4/561e618b1ccd"/>
							</pragmas>
						</Equation>
						<!-- _L6 = (make TM_TrainToTrack::P000)(_L2, _L23, _L24, _L25, _L26, _L27, _L28, _L29,... -->
						<Equation>
							<lefts>
								<VariableRef name="_L6"/>
							</lefts>
							<right>
								<!-- (make TM_TrainToTrack::P000)(_L2, _L23, _L24, _L25, _L26, _L27, _L28, _L29, _L30,... -->
								<CallExpression>
									<operator>
										<MakeOp>
											<type>
												<TypeRef name="TM_TrainToTrack::P000"/>
											</type>
										</MakeOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L2"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L23"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L24"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L25"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L26"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L27"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L28"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L29"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L30"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L31"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L32"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L33"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L34"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L35"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L36"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L37"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L38"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db04/6095/17E4/561e61a42b1"/>
							</pragmas>
						</Equation>
						<!-- _L23, _L24, _L25, _L26, _L27, _L28, _L29, _L30, _L31, _L32, _L33, _L34, _L35, _L3... -->
						<Equation>
							<lefts>
								<VariableRef name="_L23"/>
								<VariableRef name="_L24"/>
								<VariableRef name="_L25"/>
								<VariableRef name="_L26"/>
								<VariableRef name="_L27"/>
								<VariableRef name="_L28"/>
								<VariableRef name="_L29"/>
								<VariableRef name="_L30"/>
								<VariableRef name="_L31"/>
								<VariableRef name="_L32"/>
								<VariableRef name="_L33"/>
								<VariableRef name="_L34"/>
								<VariableRef name="_L35"/>
								<VariableRef name="_L36"/>
								<VariableRef name="_L37"/>
								<VariableRef name="_L38"/>
							</lefts>
							<right>
								<!-- (flatten TrainToTrack::Position_Report)(_L3) -->
								<CallExpression>
									<operator>
										<FlattenOp name="1">
											<type>
												<TypeRef name="TrainToTrack::Position_Report"/>
											</type>
										</FlattenOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L3"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db07/6095/17E4/561e61bd7aec"/>
							</pragmas>
						</Equation>
					</data>
					<pragmas>
						<ed:Operator oid="!ed/12d663/10A5/D28/561e559b5a38" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5">
							<diagrams>
								<NetDiagram name="diagram_C_legacy_P000_1" landscape="true" format="A4 (210 297)" oid="!ed/12d664/10A5/D28/561e559b8ed">
									<presentationElements>
										<EquationGE presentable="!ed/12d697/10A5/D28/561e55f4e75">
											<position>
												<Point x="2434" y="4445"/>
											</position>
											<size>
												<Size width="265" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/12d69d/10A5/D28/561e55f65ce3">
											<position>
												<Point x="15796" y="5636"/>
											</position>
											<size>
												<Size width="317" height="502"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/25daff/6095/17E4/561e618b1ccd">
											<position>
												<Point x="4022" y="423"/>
											</position>
											<size>
												<Size width="1286" height="8589"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/12d697/10A5/D28/561e55f4e75" dstEquation="!ed/25daff/6095/17E4/561e618b1ccd">
											<positions>
												<Point x="2699" y="4710"/>
												<Point x="3360" y="4710"/>
												<Point x="3360" y="4710"/>
												<Point x="4022" y="4710"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/25db04/6095/17E4/561e61a42b1">
											<position>
												<Point x="13229" y="1984"/>
											</position>
											<size>
												<Size width="1286" height="8430"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/25db04/6095/17E4/561e61a42b1" dstEquation="!ed/12d69d/10A5/D28/561e55f65ce3">
											<positions>
												<Point x="14499" y="6191"/>
												<Point x="15187" y="6191"/>
												<Point x="15187" y="5900"/>
												<Point x="15849" y="5900"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/25db07/6095/17E4/561e61bd7aec">
											<position>
												<Point x="6059" y="2752"/>
											</position>
											<size>
												<Size width="1286" height="8032"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/25daff/6095/17E4/561e618b1ccd" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="5292" y="3281"/>
												<Point x="5768" y="3281"/>
												<Point x="5768" y="2461"/>
												<Point x="13229" y="2461"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="3228"/>
												<Point x="10319" y="3228"/>
												<Point x="10319" y="2910"/>
												<Point x="13229" y="2910"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="2" rightExprIndex="3" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="3704"/>
												<Point x="10319" y="3704"/>
												<Point x="10319" y="3387"/>
												<Point x="13229" y="3387"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="3" rightExprIndex="4" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="4180"/>
												<Point x="10319" y="4180"/>
												<Point x="10319" y="3863"/>
												<Point x="13229" y="3863"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="4" rightExprIndex="5" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="4630"/>
												<Point x="10319" y="4630"/>
												<Point x="10319" y="4313"/>
												<Point x="13229" y="4313"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="5" rightExprIndex="6" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="5106"/>
												<Point x="10319" y="5106"/>
												<Point x="10319" y="4789"/>
												<Point x="13229" y="4789"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="6" rightExprIndex="7" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="5583"/>
												<Point x="10319" y="5583"/>
												<Point x="10319" y="5265"/>
												<Point x="13229" y="5265"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="7" rightExprIndex="8" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="6059"/>
												<Point x="10319" y="6059"/>
												<Point x="10319" y="5715"/>
												<Point x="13229" y="5715"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="8" rightExprIndex="9" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="6535"/>
												<Point x="10319" y="6535"/>
												<Point x="10319" y="6191"/>
												<Point x="13229" y="6191"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="9" rightExprIndex="10" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="6985"/>
												<Point x="10319" y="6985"/>
												<Point x="10319" y="6668"/>
												<Point x="13229" y="6668"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="10" rightExprIndex="11" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="7461"/>
												<Point x="10319" y="7461"/>
												<Point x="10319" y="7117"/>
												<Point x="13229" y="7117"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="11" rightExprIndex="12" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="7938"/>
												<Point x="10319" y="7938"/>
												<Point x="10319" y="7594"/>
												<Point x="13229" y="7594"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="12" rightExprIndex="13" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="8414"/>
												<Point x="10319" y="8414"/>
												<Point x="10319" y="8070"/>
												<Point x="13229" y="8070"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="13" rightExprIndex="14" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="8890"/>
												<Point x="10319" y="8890"/>
												<Point x="10319" y="8520"/>
												<Point x="13229" y="8520"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="14" rightExprIndex="15" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="9340"/>
												<Point x="10319" y="9340"/>
												<Point x="10319" y="8996"/>
												<Point x="13229" y="8996"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="15" rightExprIndex="16" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="9816"/>
												<Point x="10319" y="9816"/>
												<Point x="10319" y="9472"/>
												<Point x="13229" y="9472"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="16" rightExprIndex="17" srcEquation="!ed/25db07/6095/17E4/561e61bd7aec" dstEquation="!ed/25db04/6095/17E4/561e61a42b1">
											<positions>
												<Point x="7329" y="10292"/>
												<Point x="10319" y="10292"/>
												<Point x="10319" y="9922"/>
												<Point x="13229" y="9922"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="2" rightExprIndex="1" srcEquation="!ed/25daff/6095/17E4/561e618b1ccd" dstEquation="!ed/25db07/6095/17E4/561e61bd7aec">
											<positions>
												<Point x="5292" y="6138"/>
												<Point x="5662" y="6138"/>
												<Point x="5662" y="6773"/>
												<Point x="6059" y="6773"/>
											</positions>
										</Edge>
									</presentationElements>
								</NetDiagram>
							</diagrams>
						</ed:Operator>
					</pragmas>
				</Operator>
				<Operator kind="function" name="C_legacy_P001">
					<inputs>
						<Variable name="legacy_in">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Packet_TrainTypes_Pkg::PT1_PositionReport_2BG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db68/6095/17E4/561e625958b"/>
							</pragmas>
						</Variable>
					</inputs>
					<outputs>
						<Variable name="p">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TM_TrainToTrack::P001"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db67/6095/17E4/561e6259761c"/>
							</pragmas>
						</Variable>
					</outputs>
					<locals>
						<Variable name="_L1">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Packet_TrainTypes_Pkg::PT1_PositionReport_2BG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db53/6095/17E4/561e62594d40"/>
							</pragmas>
						</Variable>
						<Variable name="_L3">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainToTrack::Position_Report_based_on_two_balise_groups"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db54/6095/17E4/561e625954c5"/>
							</pragmas>
						</Variable>
						<Variable name="_L2">
							<type>
								<NamedType>
									<type>
										<TypeRef name="bool"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db55/6095/17E4/561e62593c1c"/>
							</pragmas>
						</Variable>
						<Variable name="_L6">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TM_TrainToTrack::P001"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db56/6095/17E4/561e625972d2"/>
							</pragmas>
						</Variable>
						<Variable name="_L38">
							<type>
								<NamedType>
									<type>
										<TypeRef name="M_LEVEL"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db57/6095/17E4/561e6259152f"/>
							</pragmas>
						</Variable>
						<Variable name="_L37">
							<type>
								<NamedType>
									<type>
										<TypeRef name="M_MODE"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db58/6095/17E4/561e6259748f"/>
							</pragmas>
						</Variable>
						<Variable name="_L36">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DIRTRAIN"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db59/6095/17E4/561e62597539"/>
							</pragmas>
						</Variable>
						<Variable name="_L35">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db5a/6095/17E4/561e625949"/>
							</pragmas>
						</Variable>
						<Variable name="_L34">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db5b/6095/17E4/561e62593ba1"/>
							</pragmas>
						</Variable>
						<Variable name="_L33">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_LENGTH"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db5c/6095/17E4/561e625928f0"/>
							</pragmas>
						</Variable>
						<Variable name="_L32">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db5d/6095/17E4/561e62592430"/>
							</pragmas>
						</Variable>
						<Variable name="_L31">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db5e/6095/17E4/561e6259455b"/>
							</pragmas>
						</Variable>
						<Variable name="_L30">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DLRBG"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db5f/6095/17E4/561e625953c9"/>
							</pragmas>
						</Variable>
						<Variable name="_L29">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DIRLRBG"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db60/6095/17E4/561e625912a0"/>
							</pragmas>
						</Variable>
						<Variable name="_L28">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db61/6095/17E4/561e625917e6"/>
							</pragmas>
						</Variable>
						<Variable name="_L27">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db62/6095/17E4/561e6259228"/>
							</pragmas>
						</Variable>
						<Variable name="_L26">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db63/6095/17E4/561e625956d4"/>
							</pragmas>
						</Variable>
						<Variable name="_L25">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_SCALE"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db64/6095/17E4/561e62595969"/>
							</pragmas>
						</Variable>
						<Variable name="_L24">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db65/6095/17E4/561e62595f0c"/>
							</pragmas>
						</Variable>
						<Variable name="_L23">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db66/6095/17E4/561e6259386d"/>
							</pragmas>
						</Variable>
						<Variable name="_L39">
							<type>
								<NamedType>
									<type>
										<TypeRef name="int"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/25db72/6095/17E4/561e62a84dae"/>
							</pragmas>
						</Variable>
					</locals>
					<data>
						<!-- _L1 = legacy_in; -->
						<Equation>
							<lefts>
								<VariableRef name="_L1"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="legacy_in"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db4d/6095/17E4/561e625957a3"/>
							</pragmas>
						</Equation>
						<!-- p = _L6; -->
						<Equation>
							<lefts>
								<VariableRef name="p"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L6"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db4e/6095/17E4/561e62596bde"/>
							</pragmas>
						</Equation>
						<!-- _L2, _L3 = (flatten Packet_TrainTypes_Pkg::PT1_PositionReport_2BG_T)(_L1); -->
						<Equation>
							<lefts>
								<VariableRef name="_L2"/>
								<VariableRef name="_L3"/>
							</lefts>
							<right>
								<!-- (flatten Packet_TrainTypes_Pkg::PT1_PositionReport_2BG_T)(_L1) -->
								<CallExpression>
									<operator>
										<FlattenOp name="1">
											<type>
												<TypeRef name="Packet_TrainTypes_Pkg::PT1_PositionReport_2BG_T"/>
											</type>
										</FlattenOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L1"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db4f/6095/17E4/561e6259a8"/>
							</pragmas>
						</Equation>
						<!-- _L6 = (make TM_TrainToTrack::P001)(_L2, _L23, _L24, _L25, _L26, _L27, _L28, _L29,... -->
						<Equation>
							<lefts>
								<VariableRef name="_L6"/>
							</lefts>
							<right>
								<!-- (make TM_TrainToTrack::P001)(_L2, _L23, _L24, _L25, _L26, _L27, _L28, _L29, _L30,... -->
								<CallExpression>
									<operator>
										<MakeOp name="1">
											<type>
												<TypeRef name="TM_TrainToTrack::P001"/>
											</type>
										</MakeOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L2"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L23"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L24"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L25"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L26"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L27"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L28"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L29"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L30"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L31"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L32"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L33"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L34"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L35"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L36"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L37"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L38"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L39"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db50/6095/17E4/561e62591c5"/>
							</pragmas>
						</Equation>
						<!-- _L23, _L24, _L25, _L26, _L27, _L28, _L29, _L30, _L31, _L32, _L33, _L34, _L35, _L3... -->
						<Equation>
							<lefts>
								<VariableRef name="_L23"/>
								<VariableRef name="_L24"/>
								<VariableRef name="_L25"/>
								<VariableRef name="_L26"/>
								<VariableRef name="_L27"/>
								<VariableRef name="_L28"/>
								<VariableRef name="_L29"/>
								<VariableRef name="_L30"/>
								<VariableRef name="_L31"/>
								<VariableRef name="_L32"/>
								<VariableRef name="_L33"/>
								<VariableRef name="_L34"/>
								<VariableRef name="_L35"/>
								<VariableRef name="_L36"/>
								<VariableRef name="_L37"/>
								<VariableRef name="_L38"/>
								<VariableRef name="_L39"/>
							</lefts>
							<right>
								<!-- (flatten TrainToTrack::Position_Report_based_on_two_balise_groups)(_L3) -->
								<CallExpression>
									<operator>
										<FlattenOp name="2">
											<type>
												<TypeRef name="TrainToTrack::Position_Report_based_on_two_balise_groups"/>
											</type>
										</FlattenOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L3"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/25db51/6095/17E4/561e6259642d"/>
							</pragmas>
						</Equation>
					</data>
					<pragmas>
						<ed:Operator oid="!ed/25db4c/6095/17E4/561e625945cd" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5">
							<diagrams>
								<NetDiagram name="diagram_C_legacy_P001_1" landscape="true" format="A4 (210 297)" oid="!ed/25db52/6095/17E4/561e62595f2b">
									<presentationElements>
										<EquationGE presentable="!ed/25db4d/6095/17E4/561e625957a3">
											<position>
												<Point x="2434" y="4445"/>
											</position>
											<size>
												<Size width="265" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/25db4e/6095/17E4/561e62596bde">
											<position>
												<Point x="15796" y="5636"/>
											</position>
											<size>
												<Size width="317" height="502"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/25db4f/6095/17E4/561e6259a8">
											<position>
												<Point x="4022" y="423"/>
											</position>
											<size>
												<Size width="1286" height="8589"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/25db4d/6095/17E4/561e625957a3" dstEquation="!ed/25db4f/6095/17E4/561e6259a8">
											<positions>
												<Point x="2699" y="4710"/>
												<Point x="3360" y="4710"/>
												<Point x="3360" y="4710"/>
												<Point x="4022" y="4710"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/25db50/6095/17E4/561e62591c5">
											<position>
												<Point x="13229" y="1984"/>
											</position>
											<size>
												<Size width="1286" height="8430"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/25db50/6095/17E4/561e62591c5" dstEquation="!ed/25db4e/6095/17E4/561e62596bde">
											<positions>
												<Point x="14526" y="6218"/>
												<Point x="15187" y="6218"/>
												<Point x="15187" y="5900"/>
												<Point x="15849" y="5900"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/25db51/6095/17E4/561e6259642d">
											<position>
												<Point x="6059" y="2752"/>
											</position>
											<size>
												<Size width="1286" height="8032"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/25db4f/6095/17E4/561e6259a8" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="5318" y="3281"/>
												<Point x="5768" y="3281"/>
												<Point x="5768" y="2434"/>
												<Point x="13229" y="2434"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="3201"/>
												<Point x="10319" y="3201"/>
												<Point x="10319" y="2884"/>
												<Point x="13229" y="2884"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="2" rightExprIndex="3" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="3651"/>
												<Point x="10319" y="3651"/>
												<Point x="10319" y="3307"/>
												<Point x="13229" y="3307"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="3" rightExprIndex="4" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="4101"/>
												<Point x="10319" y="4101"/>
												<Point x="10319" y="3757"/>
												<Point x="13229" y="3757"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="4" rightExprIndex="5" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="4551"/>
												<Point x="10319" y="4551"/>
												<Point x="10319" y="4207"/>
												<Point x="13229" y="4207"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="5" rightExprIndex="6" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="5001"/>
												<Point x="10319" y="5001"/>
												<Point x="10319" y="4657"/>
												<Point x="13229" y="4657"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="6" rightExprIndex="7" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="5424"/>
												<Point x="10319" y="5424"/>
												<Point x="10319" y="5106"/>
												<Point x="13229" y="5106"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="7" rightExprIndex="8" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="5874"/>
												<Point x="10319" y="5874"/>
												<Point x="10319" y="5530"/>
												<Point x="13229" y="5530"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="8" rightExprIndex="9" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="6324"/>
												<Point x="10319" y="6324"/>
												<Point x="10319" y="5980"/>
												<Point x="13229" y="5980"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="9" rightExprIndex="10" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="6773"/>
												<Point x="10319" y="6773"/>
												<Point x="10319" y="6429"/>
												<Point x="13229" y="6429"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="10" rightExprIndex="11" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="7223"/>
												<Point x="10319" y="7223"/>
												<Point x="10319" y="6879"/>
												<Point x="13229" y="6879"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="11" rightExprIndex="12" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="7673"/>
												<Point x="10319" y="7673"/>
												<Point x="10319" y="7303"/>
												<Point x="13229" y="7303"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="12" rightExprIndex="13" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="8123"/>
												<Point x="10319" y="8123"/>
												<Point x="10319" y="7752"/>
												<Point x="13229" y="7752"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="13" rightExprIndex="14" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="8573"/>
												<Point x="10319" y="8573"/>
												<Point x="10319" y="8202"/>
												<Point x="13229" y="8202"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="14" rightExprIndex="15" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="8996"/>
												<Point x="10319" y="8996"/>
												<Point x="10319" y="8652"/>
												<Point x="13229" y="8652"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="15" rightExprIndex="16" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="9446"/>
												<Point x="10319" y="9446"/>
												<Point x="10319" y="9102"/>
												<Point x="13229" y="9102"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="16" rightExprIndex="17" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="9895"/>
												<Point x="10319" y="9895"/>
												<Point x="10319" y="9525"/>
												<Point x="13229" y="9525"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="2" rightExprIndex="1" srcEquation="!ed/25db4f/6095/17E4/561e6259a8" dstEquation="!ed/25db51/6095/17E4/561e6259642d">
											<positions>
												<Point x="5318" y="6165"/>
												<Point x="5662" y="6165"/>
												<Point x="5662" y="6773"/>
												<Point x="6059" y="6773"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="17" rightExprIndex="18" srcEquation="!ed/25db51/6095/17E4/561e6259642d" dstEquation="!ed/25db50/6095/17E4/561e62591c5">
											<positions>
												<Point x="7355" y="10345"/>
												<Point x="10292" y="10345"/>
												<Point x="10292" y="9975"/>
												<Point x="13229" y="9975"/>
											</positions>
										</Edge>
									</presentationElements>
								</NetDiagram>
							</diagrams>
						</ed:Operator>
					</pragmas>
				</Operator>
			</declarations>
			<pragmas>
				<ed:Package oid="!ed/6cc65a/66E4/DF4/55a69f7142d2" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/5">
					<diagrams>
						<TreeDiagram landscape="false" format="A4 (210 297)" oid="!ed/6cc65b/66E4/DF4/55a69f713cea" blockKind="constants"/>
						<TreeDiagram landscape="false" format="A4 (210 297)" oid="!ed/6cc65c/66E4/DF4/55a69f714303" blockKind="types"/>
						<TreeDiagram landscape="false" format="A4 (210 297)" oid="!ed/6cc65d/66E4/DF4/55a69f71124a" blockKind="sensors"/>
					</diagrams>
				</ed:Package>
			</pragmas>
		</Package>
	</declarations>
</File>
